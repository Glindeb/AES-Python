% Document class and packages
\documentclass[a4paper, 12pt]{report}
\usepackage{geometry}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{titlesec}
\usepackage{fontenc}
\usepackage{float}
% For headers and footers
\usepackage{fancyhdr, lastpage}
\usepackage{fancyvrb}
% Math spesific packages
\usepackage{amsfonts}
\usepackage{amsmath}
% For reffereces displaying and coloring as well as for some document settings
\usepackage[pagebackref]{hyperref}
% For math symbols and figures
\usepackage{tikz}
% For color boxes
\usepackage{xcolor}
\usepackage[most]{tcolorbox}
% For unit displaying
\usepackage{siunitx}

% Background image of title page
\usepackage{eso-pic}
\newcommand\BackgroundIm{
\put(0,0){
\parbox[b][\paperheight]{\paperwidth}{
\vfill
\centering
\includegraphics[height=\paperheight,width=\paperwidth,
keepaspectratio]{background-1.png}
\vfill
}}}

% Global options
\geometry{a4paper}
\graphicspath{{Images/}}
\hypersetup{
  linkcolor=black,
  citecolor={blue!50!black},
  filecolor={blue!50!black},
  urlcolor={blue!80!black},
  pdftitle={The AES encryption algorithm},
  pdfauthor={Gabriel Lindeblad},
  pdfcreator={Gabriel Lindeblad},
  pdfsubject={Advanced Encryption Standard},
  pdfstartpage=1,
  pdffitwindow=true,
  colorlinks=true,
  pdfpagemode=UseNone,
  }
\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}
\pagestyle{fancy}
\rhead{\currentchapter}
\cfoot{Sida \thepage\ av \pageref{LastPage}}
\fancyheadoffset[L, RO]{0cm}


% New commands and changed commands
\newcommand{\currentchapter}{}
\newcommand{\mychapter}[1]{\chapter{#1}
\renewcommand{\currentchapter}{#1}}
\renewcommand{\bibname}{Källförteckning}
\renewcommand{\contentsname}{Inehållsförteckning}


% Titel reformating
\titleformat{\chapter}[block]
  {\normalfont\huge\bfseries}{\thechapter}{0.5em}{\Huge}
\titlespacing*{\chapter}{0pt}{-25pt}{0pt}

\titleformat{\section}[block]
  {\normalfont\Large\bfseries}{\thesection}{0.5em}{\Large}
\titlespacing*{\chapter}{0pt}{-25pt}{0pt}

\titleformat{\subsection}[block]
  {\normalfont\large\bfseries}{\thesubsection}{0.5em}{\large}
\titlespacing*{\chapter}{0pt}{-25pt}{0pt}

\titleformat{\subsubsection}[block]
  {\normalfont\normalsize\bfseries}{\thesubsubsection}{0.5em}{\normalsize}
\titlespacing*{\chapter}{0pt}{-25pt}{0pt}


% Start document
\begin{document}

\newgeometry{top=0cm, bottom=2cm, left = 1.5cm, right = 1.5cm}

% Beginging title page
\begin{titlepage}
    % Inserting background images
    \AddToShipoutPicture*{\BackgroundIm}

    % School logo
    \begin{figure}[H]
    \includegraphics[width=0.3\textwidth]{skola_logga.png}
    \end{figure}

    % Aligning year to the right
    \raggedleft

    % Year
    \vspace{-3.5cm}
    {\large \textbf{2022/2023}}

    % Aligning to the left
    \raggedright

    % Title and sub title
    \vspace{3.5cm}
	{\huge\bfseries The AES encryption algorithm\par}
    \vspace{0.1cm}
    ~{\large En undersökning av The Advanced Encryption Standard (AES) \par
    ~ur ett struktur och användnings perspektiv}

% Bottom of the page
    \vfill

    Klass:\par
    ~\textbf{NA20}

    \vspace{0.2cm}

    Författare:\par
    ~\textbf{Gabriel Lindeblad}

    \vspace{0.2cm}

	{Handledare:}\par
	~\textbf{Rickard Janveden}

    \vspace{0.2cm}

    Program:\par
    ~\textbf{Naturvetenskapsprogrammet}

    \vspace{1cm}
	{\large \today\par}
    \vspace{-1cm}

% End of title page
\end{titlepage}

% Geometry of page borders for abstract
\newgeometry{top=5cm, bottom=2cm, left = 2cm, right = 2cm}

% Abstract
\chapter*{Abstract}
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut lacinia ex eget sagittis congue.
Nullam cursus egestas dolor, suscipit gravida magna ultrices sit amet. Nullam placerat dui eu
arcu pharetra, sit amet tempor dolor convallis. Aenean sodales condimentum turpis, commodo maximus
augue. Aenean vel nibh dui. Pellentesque ex libero, lacinia nec mauris vel, convallis consectetur
felis. Maecenas ut nibh sed magna maximus imperdiet at id purus. In vel consequat metus. Donec non
tincidunt nunc. Sed pulvinar odio ut sapien vestibulum, quis mollis arcu tempor. Maecenas ut sem leo.
Sed leo risus, mollis eu ex vitae, feugiat consequat metus. Aenean interdum volutpat urna, nec
tempor mi accumsan quis. Morbi blandit maximus urna non aliquet aes.

% New page borders for bulk of the report
\newgeometry{top=2.5cm, bottom=2cm, left = 2cm, right = 2cm}

% Inehållsförteckning
\tableofcontents

\include{Introduction}

\include{Bakgrund}

\include{Teori}

\include{Material_utförande}

\include{Resultat}

\include{Diskussion}

\addcontentsline{toc}{chapter}{Källförteckning}
\bibliographystyle{plain}
\bibliography{ref}

% End document
\end{document}